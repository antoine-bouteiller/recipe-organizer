{
  "dialect": "sqlite",
  "id": "29af3a79-af51-4af0-a6dc-8fef54ca6b9d",
  "prevIds": ["00000000-0000-0000-0000-000000000000"],
  "version": "7",
  "ddl": [
    {
      "name": "ingredients",
      "entityType": "tables"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": "'other'",
      "generated": null,
      "name": "category",
      "table": "ingredients",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "table": "ingredients",
      "entityType": "columns"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "ingredients_pk",
      "table": "ingredients",
      "entityType": "pks"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "name",
      "table": "ingredients",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "parent_id",
      "table": "ingredients",
      "entityType": "columns"
    },
    {
      "name": "recipes",
      "entityType": "tables"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "table": "recipes",
      "entityType": "columns"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "recipes_pk",
      "table": "recipes",
      "entityType": "pks"
    },
    {
      "type": "text(255)",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "image",
      "table": "recipes",
      "entityType": "columns"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "instructions",
      "table": "recipes",
      "entityType": "columns"
    },
    {
      "type": "text(255)",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "name",
      "table": "recipes",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "servings",
      "table": "recipes",
      "entityType": "columns"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": "'[]'",
      "generated": null,
      "name": "tags",
      "table": "recipes",
      "entityType": "columns"
    },
    {
      "name": "group_ingredients",
      "entityType": "tables"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "group_id",
      "table": "group_ingredients",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "table": "group_ingredients",
      "entityType": "columns"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "group_ingredients_pk",
      "table": "group_ingredients",
      "entityType": "pks"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "ingredient_id",
      "table": "group_ingredients",
      "entityType": "columns"
    },
    {
      "type": "real",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "quantity",
      "table": "group_ingredients",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "unit_id",
      "table": "group_ingredients",
      "entityType": "columns"
    },
    {
      "columns": ["group_id"],
      "tableTo": "recipe_ingredient_groups",
      "columnsTo": ["id"],
      "onUpdate": "NO ACTION",
      "onDelete": "RESTRICT",
      "nameExplicit": false,
      "name": "group_ingredients_group_id_recipe_ingredient_groups_id_fk",
      "table": "group_ingredients",
      "entityType": "fks"
    },
    {
      "columns": ["ingredient_id"],
      "tableTo": "ingredients",
      "columnsTo": ["id"],
      "onUpdate": "NO ACTION",
      "onDelete": "RESTRICT",
      "nameExplicit": false,
      "name": "group_ingredients_ingredient_id_ingredients_id_fk",
      "table": "group_ingredients",
      "entityType": "fks"
    },
    {
      "columns": ["unit_id"],
      "tableTo": "units",
      "columnsTo": ["id"],
      "onUpdate": "NO ACTION",
      "onDelete": "SET NULL",
      "nameExplicit": false,
      "name": "group_ingredients_unit_id_units_id_fk",
      "table": "group_ingredients",
      "entityType": "fks"
    },
    {
      "name": "recipe_ingredient_groups",
      "entityType": "tables"
    },
    {
      "type": "text(255)",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "group_name",
      "table": "recipe_ingredient_groups",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "table": "recipe_ingredient_groups",
      "entityType": "columns"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "recipe_ingredient_groups_pk",
      "table": "recipe_ingredient_groups",
      "entityType": "pks"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": "false",
      "generated": null,
      "name": "is_default",
      "table": "recipe_ingredient_groups",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "recipe_id",
      "table": "recipe_ingredient_groups",
      "entityType": "columns"
    },
    {
      "columns": ["recipe_id"],
      "tableTo": "recipes",
      "columnsTo": ["id"],
      "onUpdate": "NO ACTION",
      "onDelete": "RESTRICT",
      "nameExplicit": false,
      "name": "recipe_ingredient_groups_recipe_id_recipes_id_fk",
      "table": "recipe_ingredient_groups",
      "entityType": "fks"
    },
    {
      "name": "recipe_linked_recipes",
      "entityType": "tables"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "linked_recipe_id",
      "table": "recipe_linked_recipes",
      "entityType": "columns"
    },
    {
      "type": "real",
      "notNull": true,
      "autoincrement": false,
      "default": "1",
      "generated": null,
      "name": "ratio",
      "table": "recipe_linked_recipes",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "recipe_id",
      "table": "recipe_linked_recipes",
      "entityType": "columns"
    },
    {
      "columns": ["linked_recipe_id"],
      "tableTo": "recipes",
      "columnsTo": ["id"],
      "onUpdate": "NO ACTION",
      "onDelete": "RESTRICT",
      "nameExplicit": false,
      "name": "recipe_linked_recipes_linked_recipe_id_recipes_id_fk",
      "table": "recipe_linked_recipes",
      "entityType": "fks"
    },
    {
      "columns": ["recipe_id"],
      "tableTo": "recipes",
      "columnsTo": ["id"],
      "onUpdate": "NO ACTION",
      "onDelete": "RESTRICT",
      "nameExplicit": false,
      "name": "recipe_linked_recipes_recipe_id_recipes_id_fk",
      "table": "recipe_linked_recipes",
      "entityType": "fks"
    },
    {
      "name": "units",
      "entityType": "tables"
    },
    {
      "type": "real",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "factor",
      "table": "units",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "table": "units",
      "entityType": "columns"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "units_pk",
      "table": "units",
      "entityType": "pks"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "name",
      "table": "units",
      "entityType": "columns"
    },
    {
      "type": "integer",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "parent_id",
      "table": "units",
      "entityType": "columns"
    },
    {
      "name": "user",
      "entityType": "tables"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "email",
      "table": "user",
      "entityType": "columns"
    },
    {
      "type": "text",
      "notNull": false,
      "autoincrement": false,
      "default": null,
      "generated": null,
      "name": "id",
      "table": "user",
      "entityType": "columns"
    },
    {
      "columns": ["id"],
      "nameExplicit": false,
      "name": "user_pk",
      "table": "user",
      "entityType": "pks"
    },
    {
      "type": "text",
      "notNull": true,
      "autoincrement": false,
      "default": "'user'",
      "generated": null,
      "name": "role",
      "table": "user",
      "entityType": "columns"
    },
    {
      "columns": [
        {
          "value": "email",
          "isExpression": false
        }
      ],
      "isUnique": true,
      "where": null,
      "origin": "manual",
      "name": "user_email_unique",
      "table": "user",
      "entityType": "indexes"
    }
  ],
  "renames": []
}
